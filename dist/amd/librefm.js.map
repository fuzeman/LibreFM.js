{"version":3,"sources":["webpack/universalModuleDefinition","webpack/bootstrap 3b1cf984f1c0de15ad94","./src/core/helpers.js","./src/interfaces/base.js","external \"querystring\"","./src/index.js","external \"whatwg-fetch\"","./src/core/http.js","./src/interfaces/auth.js","./src/interfaces/index.js","./src/interfaces/track.js","./src/interfaces/user.js","external \"crypto-js/enc-hex\"","external \"crypto-js/md5\"","external \"lodash-amd/merge\""],"names":["isDefined","value","Interface","client","_client","http","Client","key","secret","options","session","sessionKey","_interfaces","_constructInterfaces","result","Object","keys","forEach","HttpClient","baseUrl","_baseUrl","method","params","authenticated","getSessionKey","signed","Error","_generateSignature","fetch","encode","then","response","json","body","headers","Headers","signature","sort","toString","AuthInterface","callbackUrl","token","username","password","get","auth","track","user","TrackInterface","items","item","i","Array","isArray","length","artist","timestamp","post","scrobbles","nowplaying","UserInterface","name"],"mappings":"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","file":"librefm.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"querystring\"), require(\"whatwg-fetch\"), require(\"crypto-js/enc-hex\"), require(\"crypto-js/md5\"), require(\"lodash-amd/merge\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"querystring\", \"whatwg-fetch\", \"crypto-js/enc-hex\", \"crypto-js/md5\", \"lodash-amd/merge\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"librefm\"] = factory(require(\"querystring\"), require(\"whatwg-fetch\"), require(\"crypto-js/enc-hex\"), require(\"crypto-js/md5\"), require(\"lodash-amd/merge\"));\n\telse\n\t\troot[\"librefm\"] = factory(root[\"querystring\"], root[\"whatwg-fetch\"], root[\"crypto-js/enc-hex\"], root[\"crypto-js/md5\"], root[\"lodash-amd/merge\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_11__, __WEBPACK_EXTERNAL_MODULE_12__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3b1cf984f1c0de15ad94","export function isDefined(value) {\r\n    return typeof value !== 'undefined' && value !== null;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/helpers.js","import {isDefined} from '../core/helpers';\r\n\r\n\r\nexport default class Interface {\r\n    constructor(client) {\r\n        this._client = isDefined(client) ? client : null;\r\n    }\r\n\r\n    get http() {\r\n        if(!isDefined(this._client)) {\r\n            return null;\r\n        }\r\n\r\n        return this._client.http;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/interfaces/base.js","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"querystring\"\n// module id = 2\n// module chunks = 0","import HttpClient from './core/http';\nimport Interfaces from './interfaces';\nimport {isDefined} from './core/helpers';\n\n\nexport class Client {\n    constructor(key, secret, options) {\n        options = isDefined(options) ? options : {};\n\n        this.key = key || null;\n        this.secret = secret || null;\n\n        this.session = null;\n\n        if(isDefined(options.session)) {\n            this.session = options.session;\n        } else if(isDefined(options.sessionKey)) {\n            this.session = {key: options.sessionKey};\n        }\n\n        // Construct http client\n        this.http = new HttpClient(this);\n\n        // Construct interfaces\n        this._interfaces = this._constructInterfaces();\n    }\n\n    get auth() {\n        return this._interfaces['auth'];\n    }\n\n    get track() {\n        return this._interfaces['track'];\n    }\n\n    get user() {\n        return this._interfaces['user'];\n    }\n\n    getSessionKey() {\n        if(!isDefined(this.session) || !isDefined(this.session.key)) {\n            return null;\n        }\n\n        return this.session.key;\n    }\n\n    _constructInterfaces() {\n        var result = {};\n\n        Object.keys(Interfaces).forEach((key) => {\n            result[key] = new Interfaces[key](this);\n        });\n\n        return result;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"whatwg-fetch\"\n// module id = 4\n// module chunks = 0","import Hex from 'crypto-js/enc-hex';\r\nimport Md5 from 'crypto-js/md5';\r\nimport Merge from 'lodash-amd/merge';\r\nimport QueryString from 'querystring';\r\n\r\nimport {isDefined} from './helpers';\r\n\r\n\r\nexport default class HttpClient {\r\n    constructor(client, baseUrl) {\r\n        this._client = client;\r\n        this._baseUrl = baseUrl || 'https://libre.fm/2.0/';\r\n    }\r\n\r\n    get(method, options) {\r\n        options = Merge({\r\n            params: {},\r\n\r\n            authenticated: false,\r\n            sessionKey: this._client.getSessionKey()\r\n        }, options || {});\r\n\r\n        options.signed = isDefined(options.signed) ?\r\n            options.signed :\r\n            options.authenticated;\r\n\r\n        // Set request parameters\r\n        options.params['api_key'] = this._client.key;\r\n        options.params['format'] = 'json';\r\n        options.params['method'] = method;\r\n\r\n        if(options.authenticated) {\r\n            // Add session key\r\n            if(!isDefined(options.sessionKey)) {\r\n                throw new Error('Missing required \"sessionKey\" parameter');\r\n            }\r\n\r\n            options.params['sk'] = options.sessionKey;\r\n        }\r\n\r\n        if(options.signed) {\r\n            // Generate signature\r\n            options.params['api_sig'] = this._generateSignature(options.params);\r\n        }\r\n\r\n        // Send request\r\n        return fetch(\r\n            this._baseUrl + '?' + QueryString.encode(options.params)\r\n        ).then(function(response) {\r\n            // TODO check status code\r\n            return response.json();\r\n        });\r\n    }\r\n\r\n    post(method, options) {\r\n        options = Merge({\r\n            params: {},\r\n\r\n            authenticated: false,\r\n            sessionKey: this._client.getSessionKey()\r\n        }, options || {});\r\n\r\n        options.signed = isDefined(options.signed) ?\r\n            options.signed :\r\n            options.authenticated;\r\n\r\n        // Set request parameters\r\n        options.params['api_key'] = this._client.key;\r\n        options.params['format'] = 'json';\r\n        options.params['method'] = method;\r\n\r\n        if(options.authenticated) {\r\n            // Add session key\r\n            if(!isDefined(options.sessionKey)) {\r\n                throw new Error('Missing required \"sessionKey\" parameter');\r\n            }\r\n\r\n            options.params['sk'] = options.sessionKey;\r\n        }\r\n\r\n        if(options.signed) {\r\n            // Generate signature\r\n            options.params['api_sig'] = this._generateSignature(options.params);\r\n        }\r\n\r\n        // Send request\r\n        return fetch(this._baseUrl, {\r\n            method: 'POST',\r\n            body: QueryString.encode(options.params),\r\n\r\n            headers: new Headers({\r\n                'Content-Type': 'application/x-www-form-urlencoded'\r\n            })\r\n        }).then(function(response) {\r\n            // TODO check status code\r\n            return response.json();\r\n        });\r\n    }\r\n\r\n    _generateSignature(params) {\r\n        var signature = '';\r\n\r\n        // Append parameters\r\n        var value;\r\n\r\n        Object.keys(params).sort().forEach((key) => {\r\n            if(key === 'format') {\r\n                return;\r\n            }\r\n\r\n            // Retrieve value\r\n            value = params[key];\r\n\r\n            if(typeof value === 'undefined' || value === null) {\r\n                value = '';\r\n            }\r\n\r\n            // Append parameter\r\n            signature += key + value;\r\n        });\r\n\r\n        // Append client secret\r\n        signature += this._client.secret;\r\n\r\n        // Generate hash\r\n        return Md5(signature).toString(Hex);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/http.js","import QueryString from 'querystring';\r\n\r\nimport Interface from './base';\r\nimport {isDefined} from '../core/helpers';\r\n\r\n\r\nexport default class AuthInterface extends Interface {\r\n    getAuthorizeUrl(options) {\r\n        var params = {};\r\n\r\n        options = isDefined(options) ? options : {};\r\n\r\n        // Set parameters\r\n        params['api_key'] = this._client.key;\r\n\r\n        if(isDefined(options.callbackUrl)) {\r\n            params['cb'] = options.callbackUrl;\r\n        }\r\n\r\n        if(isDefined(options.token)) {\r\n            params['token'] = options.token;\r\n        }\r\n\r\n        // Build URL\r\n        return 'https://libre.fm/api/auth/?' + QueryString.encode(params);\r\n    }\r\n\r\n    getMobileSession(username, password) {\r\n        if(!isDefined(username)) {\r\n            throw new Error('Invalid value provided for the \"username\" parameter');\r\n        }\r\n\r\n        if(!isDefined(password)) {\r\n            throw new Error('Invalid value provided for the \"password\" parameter');\r\n        }\r\n\r\n        return this.http.get('auth.getMobileSession', {\r\n            params: {\r\n                username: username,\r\n                password: password\r\n            },\r\n\r\n            signed: true\r\n        }).then(function(body) {\r\n            if(isDefined(body) && isDefined(body.session)) {\r\n                return body.session;\r\n            }\r\n\r\n            return null;\r\n        });\r\n    }\r\n\r\n    getSession(token) {\r\n        if(!isDefined(token)) {\r\n            throw new Error('Invalid value provided for the \"token\" parameter');\r\n        }\r\n\r\n        return this.http.get('auth.getSession', {\r\n            params: {\r\n                token: token\r\n            },\r\n\r\n            signed: true\r\n        }).then(function(body) {\r\n            if(isDefined(body) && isDefined(body.session)) {\r\n                return body.session;\r\n            }\r\n\r\n            return null;\r\n        });\r\n    }\r\n\r\n    getToken() {\r\n        return this.http.get('auth.getToken', {\r\n            signed: true\r\n        }).then(function(body) {\r\n            if(isDefined(body) && isDefined(body.token)) {\r\n                return body.token;\r\n            }\r\n\r\n            return null;\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/interfaces/auth.js","import _AuthInterface from './auth';\r\nimport _TrackInterface from './track';\r\nimport _UserInterface from './user';\r\n\r\n\r\nexport {_AuthInterface as AuthInterface};\r\nexport {_TrackInterface as TrackInterface};\r\nexport {_UserInterface as UserInterface};\r\n\r\nexport default {\r\n    auth: _AuthInterface,\r\n    track: _TrackInterface,\r\n    user: _UserInterface\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/interfaces/index.js","import Interface from './base';\r\nimport {isDefined} from '../core/helpers';\r\n\r\n\r\nexport default class TrackInterface extends Interface {\r\n    scrobble(items) {\r\n        var params = {};\r\n        var item;\r\n        var i;\r\n\r\n        if(!isDefined(items) || !Array.isArray(items) || items.length < 1) {\r\n            throw new Error('Invalid value provided for the \"items\" parameter');\r\n        }\r\n\r\n        if(items.length > 50) {\r\n            throw new Error('Exceeded scrobble batch limit, only 50 scrobbles can be sent in a single batch');\r\n        }\r\n\r\n        // Build parameters\r\n        for(i = 0; i < items.length; ++i) {\r\n            item = items[i];\r\n\r\n            // Ensure required parameters have been defined\r\n            if(!isDefined(item.track)) {\r\n                throw new Error('Missing required \"track\" parameter in item #' + i);\r\n            }\r\n\r\n            if(!isDefined(item.artist)) {\r\n                throw new Error('Missing required \"artist\" parameter in item #' + i);\r\n            }\r\n\r\n            if(!isDefined(item.timestamp)) {\r\n                throw new Error('Missing required \"timestamp\" parameter in item #' + i);\r\n            }\r\n\r\n            // Add parameters for each item property\r\n            Object.keys(item).forEach((key) => {\r\n                if(!isDefined(item[key])) {\r\n                    return;\r\n                }\r\n\r\n                params[key + '[' + i + ']'] = item[key];\r\n            });\r\n        }\r\n\r\n        // Send request\r\n        return this.http.post('track.scrobble', {\r\n            params: params,\r\n\r\n            authenticated: true\r\n        }).then(function(body) {\r\n            if(isDefined(body) && isDefined(body.scrobbles)) {\r\n                return body.scrobbles;\r\n            }\r\n\r\n            return null;\r\n        });\r\n    }\r\n\r\n    updateNowPlaying(item) {\r\n        if(!isDefined(item)) {\r\n            throw new Error('Invalid value provided for the \"item\" parameter');\r\n        }\r\n\r\n        if(!isDefined(item.track)) {\r\n            throw new Error('Invalid value provided for the \"track\" property in the \"item\" object');\r\n        }\r\n\r\n        if(!isDefined(item.artist)) {\r\n            throw new Error('Invalid value provided for the \"artist\" property in the \"item\" object');\r\n        }\r\n\r\n        // Send request\r\n        return this.http.post('track.updateNowPlaying', {\r\n            params: item,\r\n\r\n            authenticated: true\r\n        }).then(function(body) {\r\n            if(isDefined(body) && isDefined(body.nowplaying)) {\r\n                return body.nowplaying;\r\n            }\r\n\r\n            return null;\r\n        });\r\n    }\r\n\r\n    love(track, artist) {\r\n        if(!isDefined(track)) {\r\n            throw new Error('Invalid value provided for the \"track\" parameter');\r\n        }\r\n\r\n        if(!isDefined(artist)) {\r\n            throw new Error('Invalid value provided for the \"artist\" parameter');\r\n        }\r\n\r\n        throw new Error('Not Implemented');\r\n    }\r\n\r\n    unlove(track, artist) {\r\n        if(!isDefined(track)) {\r\n            throw new Error('Invalid value provided for the \"track\" parameter');\r\n        }\r\n\r\n        if(!isDefined(artist)) {\r\n            throw new Error('Invalid value provided for the \"artist\" parameter');\r\n        }\r\n\r\n        throw new Error('Not Implemented');\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/interfaces/track.js","import Interface from './base';\r\nimport {isDefined} from '../core/helpers';\r\n\r\n\r\nexport default class UserInterface extends Interface {\r\n    getInfo(username) {\r\n        if(!isDefined(username)) {\r\n            if(!isDefined(this._client.session) || !isDefined(this._client.session.name)) {\r\n                throw new Error('Invalid value provided for the \"username\" parameter');\r\n            }\r\n\r\n            // Use the username of the current session\r\n            username = this._client.session.name;\r\n        }\r\n\r\n        // Send request\r\n        return this.http.get('user.getInfo', {\r\n            params: {\r\n                user: username\r\n            }\r\n        }).then(function(body) {\r\n            if(isDefined(body) && isDefined(body.user)) {\r\n                return body.user;\r\n            }\r\n\r\n            return null;\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/interfaces/user.js","module.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto-js/enc-hex\"\n// module id = 10\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_11__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto-js/md5\"\n// module id = 11\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash-amd/merge\"\n// module id = 12\n// module chunks = 0"],"sourceRoot":""}